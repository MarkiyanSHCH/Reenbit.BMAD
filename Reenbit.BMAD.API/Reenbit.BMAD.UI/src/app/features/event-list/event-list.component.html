@let items = (items$ | async) ?? [];

<div style="display:flex; align-items:center; justify-content: space-between; gap: 12px;">
  <h2>Events</h2>
  <a routerLink="/events/new">+ Create Event</a>
</div>

<table border="1" cellspacing="0" cellpadding="8" style="width:100%; border-collapse: collapse;">
  <thead>
    <tr>
      <th>CreatedAt</th>
      <th>Type</th>
      <th>UserId</th>
      <th>Description</th>
    </tr>
  </thead>

  <tbody>
    @for (e of items; track e.id ?? $index) {
      <tr>
        <td>{{ e.createdAt | date:'yyyy-MM-dd HH:mm:ss' }}</td>
        <td>{{ typeLabel(e.type) }}</td>
        <td>{{ e.userId }}</td>
        <td>{{ e.description }}</td>
      </tr>
    }

    @if (items.length === 0) {
      <tr>
        <td colspan="4" style="text-align:center;">No events</td>
      </tr>
    }
  </tbody>
</table>
